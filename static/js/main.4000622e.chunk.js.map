{"version":3,"sources":["components/MovieDetails/movieDetails.module.scss","utils/SmoothSwitch/transitions.module.scss","components/RatingFilter/ratingFilter.module.scss","components/MovieGrid/movieGrid.module.scss","components/Header/header.module.scss","components/notifications/error.module.scss","components/SinglePageApp/spa.module.scss","redux/app/actions.ts","static/config/config.js","utils/index.ts","components/notifications/error.tsx","static/img/rock-icon.svg","components/Header/Header.tsx","redux/app/selectors.ts","components/RatingFilter/RatingFilter.tsx","static/img/missing-img.png","utils/SmoothSwitch/SmoothSwitch.tsx","models/api/index.ts","components/MovieGrid/MovieGrid.tsx","static/img/missing-back.png","components/MovieDetails/MovieDetails.tsx","components/SinglePageApp/SinglePageApp.tsx","routes/index.tsx","App.tsx","redux/app/reducer.ts","redux/utils.ts","redux/reducers.ts","api/movies/index.ts","redux/app/sagas.ts","redux/sagas.ts","redux/store.ts","reportWebVitals.ts","index.tsx"],"names":["module","exports","Types","Actions","loading","type","movieFetchRequest","movieList","config","apiConfig","code","errorMsg","api_root","bearer_token","paths","ROOT","NOT_FOUND","getConfig","ErrorScreen","error","className","css","defaultProps","_path","_path2","_path3","_path4","_path5","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgRockIcon","_ref","svgRef","title","titleId","props","id","style","enableBackground","viewBox","xmlSpace","xmlns","xmlnsXlink","ref","d","ForwardRef","block","Header","search","placeholder","onChange","e","encodeURI","value","handleSearch","selectMovieList","state","appReducer","selectApiConfig","selectIsLoading","isLoading","RatingFilter","onFilterClick","filterStatus","map","s","aria-label","onClick","star","active","stars","onStarClick","SmoothSwitch","showContent","content","time","nodeRef","React","useRef","nodeRefPh","animationPrefix","timing","enter","exit","loaderTransitionProps","timeout","classNames","enterActive","enterDone","exitActive","exitDone","TransitionGroup","component","CSSTransition","in","MovieApiEndpoints","MovieGrid","movies","onMovieClick","ratingFilterStatus","ratingFilterClick","useSelector","m","imgSrc","missingImg","poster_path","imgSize","images","poster_sizes","secure_base_url","src","alt","MovieDetails","movie","close","closeRef","useLayoutEffect","current","focus","mainClass","push","missingBack","backdrop_path","vote_average","overview","join","renderMovieDetails","SinglePageApp","useState","setRatingFilterStatus","movieDetail","setMovieDetail","movieQuery","setMovieQuery","dispatch","useDispatch","useEffect","request","endpoint","DISCOVER","sortBy","SEARCH","query","fetchMovies","useCallback","results","filter","defaultPaths","renderRoutes","withRouter","Paths","exact","path","process","render","to","Routes","App","boundaryError","initApp","errorInfo","console","log","appRender","mainError","Component","connector","connect","createReducer","initialState","handlers","action","handler","updatedState","rootReducer","combineReducers","parseJSON","response","Promise","resolve","json","catch","catchError","then","status","ok","data","apiCall","requestUrl","token","a","headers","Headers","append","api_request","Request","method","mode","fetch","apiResponse","fetchTmdbMovies","toLowerCase","fetchTmdbConfig","handleApiConfigFetch","put","handleMovieFetch","select","appSaga","throttle","root","sagas","all","saga","spawn","sagaMiddleware","createSagaMiddleware","onError","midddlewares","applyMiddleware","store","createStore","reducers","composeWithDevTools","run","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4000622e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie-details\":\"movieDetails_movie-details__2jfVw\",\"show\":\"movieDetails_show__yABwa\",\"movie-details__card\":\"movieDetails_movie-details__card__3EFdJ\",\"movie-details__card__close\":\"movieDetails_movie-details__card__close__J51uQ\",\"movie-details__card__description\":\"movieDetails_movie-details__card__description__2VEG6\",\"movie-details__card__description__row\":\"movieDetails_movie-details__card__description__row__3jOIO\",\"movie-details__card__description__row__label\":\"movieDetails_movie-details__card__description__row__label__2sgQr\",\"movie-details__card__description__row__value\":\"movieDetails_movie-details__card__description__row__value__2uzxT\",\"movie-details__card__description__row__value-title\":\"movieDetails_movie-details__card__description__row__value-title__3fczc\",\"movie-details__card__description__row__value-no-pad\":\"movieDetails_movie-details__card__description__row__value-no-pad__2Vdvr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smooth-fade-enter\":\"transitions_smooth-fade-enter__2ALlF\",\"smooth-fade-enter-active\":\"transitions_smooth-fade-enter-active__29pSy\",\"smooth-fade-enter-done\":\"transitions_smooth-fade-enter-done__2j9Hc\",\"smooth-fade-exit\":\"transitions_smooth-fade-exit__19Iel\",\"smooth-fade-exit-active\":\"transitions_smooth-fade-exit-active__2Ui8g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rating-filter\":\"ratingFilter_rating-filter__2HnXD\",\"rating-filter__star-full\":\"ratingFilter_rating-filter__star-full__6nvxN\",\"rating-filter__star-outline\":\"ratingFilter_rating-filter__star-outline__1u9_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie-grid\":\"movieGrid_movie-grid__3BBbc\",\"movie-grid__container\":\"movieGrid_movie-grid__container__3MsNc\",\"movie-grid__card\":\"movieGrid_movie-grid__card__TdTx-\",\"movie-grid__loader\":\"movieGrid_movie-grid__loader__35I7L\",\"turn\":\"movieGrid_turn__GQ1fm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3fn4i\",\"header__brand\":\"header_header__brand__JEX21\",\"header__search\":\"header_header__search__3kbli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error__main\":\"error_error__main__2hjhS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spa\":\"spa_spa__3qUOz\"};","import { MovieList, ApiConfig } from \"models/moviedb\";\nimport { Config } from \"models/system\";\nimport { MovieFetchRequest } from \"models/api\";\n\nconst Types = {\n  LOADING: \"app/LOADING\",\n  FETCH_START: \"app/FETCH_START\",\n  FETCH_SUCCESS: \"app/FETCH_SUCCESS\",\n  CONFIG_READY: \"app/CONFIG_READY\",\n  API_CONFIG_READY: \"app/API_CONFIG_READY\",\n  ERROR: \"app/ERROR\",\n};\n\nexport interface ErrorAction {\n  type: typeof Types.ERROR;\n  code: string | null;\n  errorMsg: string;\n}\n\nexport interface LoadingAction {\n  type: typeof Types.LOADING;\n  loading: boolean;\n}\n\nexport interface FetchStartAction {\n  type: typeof Types.FETCH_START;\n  movieFetchRequest: MovieFetchRequest;\n}\n\nexport interface FetchSuccessAction {\n  type: typeof Types.FETCH_SUCCESS;\n  movieList: MovieList;\n}\nexport interface ApiConfigReadyAction {\n  type: typeof Types.API_CONFIG_READY;\n  apiConfig: ApiConfig;\n}\n\nexport interface SystemConfigReadyAction {\n  type: typeof Types.CONFIG_READY;\n  config: Config;\n}\n\nexport type AppActions =\n  | ErrorAction\n  | LoadingAction\n  | FetchSuccessAction\n  | FetchStartAction\n  | ApiConfigReadyAction\n  | SystemConfigReadyAction;\n\nconst Actions = {\n  setLoading: (loading: boolean): LoadingAction => ({\n    type: Types.LOADING,\n    loading,\n  }),\n  fetchStart: (movieFetchRequest: MovieFetchRequest): FetchStartAction => ({\n    type: Types.FETCH_START,\n    movieFetchRequest,\n  }),\n  fetchSuccess: (movieList: MovieList): FetchSuccessAction => ({\n    type: Types.FETCH_SUCCESS,\n    movieList,\n  }),\n  setSystemConfig: (config: Config): SystemConfigReadyAction => ({\n    type: Types.CONFIG_READY,\n    config,\n  }),\n  setApiConfig: (apiConfig: ApiConfig): ApiConfigReadyAction => ({\n    type: Types.API_CONFIG_READY,\n    apiConfig,\n  }),\n  setError: (code: string, errorMsg: string): ErrorAction => ({\n    type: Types.ERROR,\n    code,\n    errorMsg,\n  }),\n};\n\nexport { Types, Actions };\n","const config = {\n  api_root: \"https://api.themoviedb.org/3/\",\n  bearer_token:\n    \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhZjU3OWI5YjQ1ODczZTFlMDUyMzVjN2I5YmMxMDI2NiIsInN1YiI6IjVmOTcxODc4NjRkZTM1MDAzOGYxY2FjOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VWvLdS8hwH5Rw-dznQuV0OgnBdhflVXdGumNT_CbK6I\",\n  paths: {\n    ROOT: \"/\",\n    NOT_FOUND: \"/404\",\n  },\n};\n\nexport { config };\n","import { config } from \"static/config/config\";\nimport { config as devConfig } from \"static/config/config.dev\";\nimport { Config } from \"models/system\";\n\nexport const isDevelopmentMode = () => {\n  return process.env.NODE_ENV === \"development\";\n};\n\n/**\n * Sometimes there are multiple configs. In this case it's the same.\n * This method helps returning the approriate config, in this case it's just one.\n */\nexport const getConfig = (): Config => {\n  return isDevelopmentMode() ? devConfig : config;\n};\n\n/**\n * This helps centralize logs while while keeping them dev only.\n * @param txt\n */\nexport const log = (txt: string): void => {\n  if (isDevelopmentMode()) {\n    console.log(txt);\n  }\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ErrorNotification } from \"models/notifications\";\nimport css from \"./error.module.scss\";\n\nconst block = \"error\";\n\ninterface ErrorNotificationsProps {\n  error: ErrorNotification;\n}\n\nconst ErrorScreen = ({ error }: ErrorNotificationsProps) => {\n  return (\n    <div className={css[`${block}__main`]}>\n      <h1>{error.code}</h1>\n      <h2>{error.errorMsg}</h2>\n    </div>\n  );\n};\n\nErrorScreen.defaultProps = {\n  error: {\n    code: \"400\",\n    errorMsg: \"Oops\",\n  },\n};\n\nErrorScreen.propTypes = {\n  error: PropTypes.shape({\n    code: PropTypes.string,\n    errorMsg: PropTypes.string,\n  }),\n};\n\nexport { ErrorScreen };\n","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRockIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Icons\",\n    style: {\n      enableBackground: \"new 0 0 32 32\"\n    },\n    viewBox: \"0 0 32 32\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M10,18V7c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v8\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M14,15v-1c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v1\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M18,15v-1c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v1\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M22,15V9c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v11\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M10,16v4.6c0,0,0,0,0,0l-1.5-1.8c-0.8-0.9-2.2-1-3.1-0.1l0,0c-0.8,0.8-0.8,2-0.1,2.9l3.2,3.6  c1.6,1.9,4,2.9,6.4,2.9h2.5H18h0.6c4.1,0,7.4-3.3,7.4-7.4V16\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRockIcon);\nexport default __webpack_public_path__ + \"static/media/rock-icon.0d30899b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ChangeEvent } from \"react\";\nimport { BiSearch } from \"react-icons/bi\";\nimport { ReactComponent as Logo } from \"static/img/rock-icon.svg\";\nimport css from \"./header.module.scss\";\n\nconst block = \"header\";\n\ninterface Props {\n  search: Function;\n}\n\nconst Header: React.FC<Props> = ({ search }) => {\n  const handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\n    search(encodeURI(e.target.value));\n  };\n\n  return (\n    <header className={css[`${block}`]}>\n      <div className={css[`${block}__brand`]}>\n        <Logo />\n        <span>M.W.R.</span>\n      </div>\n      <div className={css[`${block}__search`]}>\n        <input placeholder=\"Search...\" onChange={(e) => handleSearch(e)} />\n        <BiSearch />\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import { GlobalState } from \"redux/reducers\";\nimport { Config } from \"models/system\";\nimport { MovieList, ApiConfig } from \"models/moviedb\";\n\nexport const selectMovieList = (state: GlobalState): MovieList | null =>\n  state.appReducer.movieList;\n\nexport const selectConfig = (state: GlobalState): Config | null =>\n  state.appReducer.config;\n\nexport const selectApiConfig = (state: GlobalState): ApiConfig | null =>\n  state.appReducer.apiConfig;\n\nexport const selectIsLoading = (state: GlobalState): boolean =>\n  state.appReducer.isLoading;\n","import React from \"react\";\nimport { BsStar, BsStarFill } from \"react-icons/bs\";\nimport css from \"./ratingFilter.module.scss\";\n\nconst block = \"rating-filter\";\n\nexport interface RatingFilterState {\n  active: boolean;\n  stars: number;\n}\n\ninterface Props {\n  onFilterClick: Function;\n  filterStatus: RatingFilterState;\n}\n\nconst RatingFilter: React.FC<Props> = ({ onFilterClick, filterStatus }) => {\n  const onStarClick = (star: number) => {\n    const active =\n      filterStatus.active && star === filterStatus.stars ? false : true;\n    onFilterClick({ active, stars: star });\n  };\n\n  return (\n    <div className={css[`${block}`]}>\n      {[1, 2, 3, 4, 5].map((s) => (\n        <button\n          aria-label={\"rating filter\"}\n          key={s}\n          onClick={() => onStarClick(s)}\n          className={css[`${block}__star`]}\n        >\n          {filterStatus.active && filterStatus.stars >= s ? (\n            <BsStarFill className={css[`${block}__star-full`]} />\n          ) : (\n            <BsStar className={css[`${block}__star-outline`]} />\n          )}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default RatingFilter;\n","export default __webpack_public_path__ + \"static/media/missing-img.4ef10744.png\";","import React from \"react\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport css from \"./transitions.module.scss\";\n\ninterface Props {\n  showContent: boolean;\n  content: Function;\n  placeholder: Function;\n  time?: number;\n  type?: string;\n}\nconst SmoothSwitch: React.FC<Props> = ({\n  showContent,\n  content,\n  placeholder,\n  time = 600,\n  type = \"fade\",\n}) => {\n  const nodeRef = React.useRef(null);\n  const nodeRefPh = React.useRef(null);\n\n  const animationPrefix = `smooth-${type}`;\n  const transitionNames = {\n    enter: css[`${animationPrefix}-enter`],\n    enterActive: css[`${animationPrefix}-enter-active`],\n    enterDone: css[`${animationPrefix}-enter-done`],\n    exit: css[`${animationPrefix}-exit`],\n    exitActive: css[`${animationPrefix}-exit-active`],\n    exitDone: css[`${animationPrefix}-exit-done`],\n  };\n  const timing = { enter: time, exit: time };\n  const loaderTransitionProps = {\n    timeout: timing,\n    classNames: transitionNames,\n  };\n\n  return (\n    <TransitionGroup timeout={timing} component={null}>\n      {showContent && (\n        <CSSTransition\n          nodeRef={nodeRef}\n          in={showContent}\n          {...loaderTransitionProps}\n        >\n          <div ref={nodeRef}>{content()}</div>\n        </CSSTransition>\n      )}\n      {!showContent && (\n        <CSSTransition\n          in={!showContent}\n          nodeRef={nodeRefPh}\n          {...loaderTransitionProps}\n        >\n          <div ref={nodeRefPh}>{placeholder()}</div>\n        </CSSTransition>\n      )}\n    </TransitionGroup>\n  );\n};\n\nSmoothSwitch.defaultProps = {\n  time: 600,\n  type: \"fade\",\n};\n\nexport default SmoothSwitch;\n","export enum MovieApiEndpoints {\n  DISCOVER = \"DISCOVER\",\n  SEARCH = \"SEARCH\",\n}\n\nexport interface MovieFetchRequest {\n  endpoint: MovieApiEndpoints;\n  query?: string;\n  sortBy?: string;\n}\n\nexport interface ApiResponse {\n  status: number;\n  ok: boolean;\n  data: any;\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Movie } from \"models/moviedb\";\nimport { selectApiConfig, selectIsLoading } from \"redux/app/selectors\";\nimport RatingFilter, { RatingFilterState } from \"components/RatingFilter\";\nimport missingImg from \"static/img/missing-img.png\";\nimport { BiLoaderCircle } from \"react-icons/bi\";\n\nimport css from \"./movieGrid.module.scss\";\nimport SmoothSwitch from \"utils/SmoothSwitch\";\nconst block = \"movie-grid\";\ninterface Props {\n  movies?: Movie[];\n  onMovieClick: Function;\n  ratingFilterStatus: RatingFilterState;\n  ratingFilterClick: Function;\n}\n\nconst MovieGrid: React.FC<Props> = ({\n  movies,\n  onMovieClick,\n  ratingFilterStatus,\n  ratingFilterClick,\n}) => {\n  const apiConfig = useSelector(selectApiConfig);\n  const isLoading = useSelector(selectIsLoading);\n\n  const renderPlaceholder = () => {\n    return (\n      <div className={css[`${block}__loader`]}>\n        {\" \"}\n        <BiLoaderCircle />\n      </div>\n    );\n  };\n\n  const renderMovies = () => {\n    if (movies?.length === 0) {\n      return <h2>Sorry, no results...</h2>;\n    }\n    const movieRenders = movies?.map((m) => {\n      let imgSrc = missingImg;\n      if (m.poster_path) {\n        // imgSize should be chosen according to screen dpi/size.\n        const imgSize = apiConfig?.images.poster_sizes[3];\n        imgSrc = `${apiConfig?.images.secure_base_url}${imgSize}${m.poster_path}`;\n      }\n      return (\n        <button\n          aria-label={\"open details\"}\n          className={css[`${block}__card`]}\n          key={m.id}\n          onClick={() => {\n            onMovieClick(m);\n          }}\n        >\n          <img src={imgSrc} alt={m.title} />\n        </button>\n      );\n    });\n    return movieRenders;\n  };\n  return (\n    <div className={css[`${block}`]}>\n      <RatingFilter\n        filterStatus={ratingFilterStatus}\n        onFilterClick={ratingFilterClick}\n      />\n      <div className={css[`${block}__container`]}>\n        <SmoothSwitch\n          showContent={!isLoading}\n          placeholder={renderPlaceholder}\n          content={renderMovies}\n        ></SmoothSwitch>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieGrid;\n","export default __webpack_public_path__ + \"static/media/missing-back.fddbe8d0.png\";","import React, { useRef, useLayoutEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Movie } from \"models/moviedb\";\nimport { selectApiConfig } from \"redux/app/selectors\";\nimport { IoIosClose } from \"react-icons/io\";\nimport missingBack from \"static/img/missing-back.png\";\n\nimport css from \"./movieDetails.module.scss\";\nconst block = \"movie-details\";\n\ninterface Props {\n  movie?: Movie | null;\n  close: Function;\n}\n\nconst MovieDetails: React.FC<Props> = ({ movie, close }) => {\n  const apiConfig = useSelector(selectApiConfig);\n  const closeRef = useRef<HTMLButtonElement>(null);\n\n  useLayoutEffect(() => {\n    if (movie !== null && closeRef.current !== null) {\n      closeRef.current.focus();\n    }\n  }, [movie]);\n\n  const renderMovieDetails = () => {\n    const mainClass = [css[`${block}`]];\n    let content = null;\n    if (movie) {\n      mainClass.push(css[\"show\"]);\n      let imgSrc = missingBack;\n      if (movie.backdrop_path) {\n        // imgSize should be chosen according to screen dpi/size.\n        const imgSize = apiConfig?.images.poster_sizes[5];\n        imgSrc = `${apiConfig?.images.secure_base_url}${imgSize}${movie.backdrop_path}`;\n      }\n      content = (\n        <>\n          <div className={css[`${block}__card__description`]}>\n            <div className={css[`${block}__card__description__row`]}>\n              <span\n                className={css[`${block}__card__description__row__value-title`]}\n              >\n                {movie?.title}\n              </span>\n            </div>\n          </div>\n          <img src={imgSrc} alt={movie.title} />\n          <div className={css[`${block}__card__description`]}>\n            <div className={css[`${block}__card__description__row`]}>\n              <span className={css[`${block}__card__description__row__label`]}>\n                Rating:\n              </span>\n              <span className={css[`${block}__card__description__row__value`]}>\n                {movie?.vote_average}\n              </span>\n            </div>\n            <div className={css[`${block}__card__description__row`]}>\n              <span className={css[`${block}__card__description__row__label`]}>\n                Overview:\n              </span>\n            </div>\n            <div className={css[`${block}__card__description__row`]}>\n              <span\n                className={\n                  css[`${block}__card__description__row__value-no-pad`]\n                }\n              >\n                {movie?.overview}\n              </span>\n            </div>\n          </div>\n        </>\n      );\n    }\n    return (\n      <div className={mainClass.join(\" \")}>\n        <div className={css[`${block}__card`]}>\n          <button\n            aria-label={\"close\"}\n            onClick={() => {\n              close();\n            }}\n            ref={closeRef}\n            className={css[`${block}__card__close`]}\n          >\n            <IoIosClose />\n          </button>\n          {content}\n        </div>\n      </div>\n    );\n  };\n  return renderMovieDetails();\n};\n\nexport default MovieDetails;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Header from \"components/Header\";\nimport MovieGrid from \"components/MovieGrid\";\nimport MovieDetails from \"components/MovieDetails\";\nimport { selectMovieList } from \"redux/app/selectors\";\nimport { Actions } from \"redux/app/actions\";\nimport { Movie } from \"models/moviedb\";\nimport { MovieApiEndpoints, MovieFetchRequest } from \"models/api\";\nimport { RatingFilterState } from \"components/RatingFilter\";\n\nimport css from \"./spa.module.scss\";\nconst block = \"spa\";\n\nconst SinglePageApp = () => {\n  const [ratingFilterStatus, setRatingFilterStatus] =\n    useState<RatingFilterState>({\n      active: false,\n      stars: 5,\n    });\n  const [movieDetail, setMovieDetail] = useState<Movie | null>(null);\n  const [movieQuery, setMovieQuery] = useState(\"\");\n  const dispatch = useDispatch();\n  const movieList = useSelector(selectMovieList);\n\n  useEffect(() => {\n    let request: MovieFetchRequest = {\n      endpoint: MovieApiEndpoints.DISCOVER,\n      sortBy: \"popularity.desc\",\n    };\n    if (movieQuery.length >= 1) {\n      request = {\n        endpoint: MovieApiEndpoints.SEARCH,\n        query: movieQuery,\n        sortBy: \"popularity.desc\",\n      };\n    }\n    dispatch(Actions.fetchStart(request));\n  }, [dispatch, movieQuery]);\n\n  const fetchMovies = useCallback(() => {\n    if (ratingFilterStatus.active) {\n      return movieList?.results.filter(\n        (m) =>\n          m.vote_average <= ratingFilterStatus.stars * 2 &&\n          m.vote_average >= (ratingFilterStatus.stars - 1) * 2\n      );\n    }\n    return movieList?.results;\n  }, [movieList, ratingFilterStatus]);\n\n  return (\n    <div className={css[`${block}`]}>\n      <Header search={setMovieQuery} />\n      <MovieGrid\n        movies={fetchMovies()}\n        onMovieClick={setMovieDetail}\n        ratingFilterStatus={ratingFilterStatus}\n        ratingFilterClick={setRatingFilterStatus}\n      />\n      <MovieDetails movie={movieDetail} close={() => setMovieDetail(null)} />\n    </div>\n  );\n};\n\nexport default SinglePageApp;\n","import React from \"react\";\nimport {\n  Route,\n  Switch,\n  Redirect,\n  withRouter,\n  BrowserRouter as Router,\n} from \"react-router-dom\";\nimport { getConfig } from \"utils\";\nimport { ErrorScreen } from \"components/notifications\";\nimport SinglePageApp from \"components/SinglePageApp\";\n\nconst defaultPaths = {\n  ROOT: \"/\",\n  NOT_FOUND: \"/404\",\n};\n\nconst { paths } = getConfig();\n\nconst renderRoutes = withRouter(() => {\n  const Paths = paths ?? defaultPaths;\n  return (\n    <Switch>\n      <Route\n        exact\n        path={process.env.PUBLIC_URL + Paths.ROOT}\n        render={() => <SinglePageApp />}\n      />\n      <Route\n        path={Paths.NOT_FOUND}\n        component={() => (\n          <ErrorScreen error={{ code: \"404\", errorMsg: \"Page not found.\" }} />\n        )}\n      />\n      <Redirect to={Paths.NOT_FOUND} />\n    </Switch>\n  );\n});\n\nconst Routes = () => {\n  return <Router>{new renderRoutes({})}</Router>;\n};\n\nexport default Routes;\n","import React, { Component } from \"react\";\nimport { Dispatch } from \"redux\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport { Actions, AppActions } from \"redux/app/actions\";\nimport { getConfig } from \"utils/index\";\nimport { ErrorScreen } from \"components/notifications\";\nimport { Config } from \"models/system\";\nimport { GlobalState } from \"redux/reducers\";\nimport Routes from \"routes\";\nimport \"App.scss\";\n\nclass App extends Component<AppProps, AppState> {\n  constructor(props: AppProps | Readonly<AppProps>) {\n    super(props);\n    this.state = { boundaryError: false };\n  }\n\n  static defaultProps = { appReducer: {} };\n\n  componentDidMount() {\n    const { initApp } = this.props;\n    initApp(getConfig() as Config);\n  }\n\n  static getDerivedStateFromError() {\n    return { boundaryError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: object) {\n    // This should be an error service.\n    console.log(error, errorInfo);\n  }\n\n  render() {\n    const { mainError } = this.props;\n    const { boundaryError } = this.state;\n\n    let appRender;\n    if (mainError.code || boundaryError) {\n      const error = boundaryError\n        ? { code: \"400\", errorMsg: \"Ups...\" }\n        : mainError;\n      appRender = <ErrorScreen error={error} />;\n    } else {\n      appRender = Routes();\n    }\n    return <div className=\"app\">{appRender}</div>;\n  }\n}\n\nfunction mapStateToProps(state: GlobalState) {\n  const { mainError, config } = state.appReducer;\n  return {\n    config,\n    mainError,\n  };\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<AppActions>) => {\n  return {\n    // This is the first method to be executed, if it fails it displays an error.\n    initApp(config: Config): void {\n      if (config) {\n        dispatch(Actions.setSystemConfig(config));\n      } else {\n        dispatch(Actions.setError(\"400\", \"Missing Config\"));\n      }\n    },\n  };\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\ntype AppProps = PropsFromRedux & {\n  appReducer: any;\n};\n\ntype AppState = {\n  boundaryError: boolean;\n};\n\nexport default connector(App);\n","import { createReducer } from \"redux/utils\";\nimport { MovieList, ApiConfig } from \"models/moviedb\";\nimport { Config } from \"models/system\";\nimport { ErrorNotification } from \"models/notifications\";\nimport {\n  ErrorAction,\n  LoadingAction,\n  Types,\n  AppActions,\n  SystemConfigReadyAction,\n  FetchSuccessAction,\n  ApiConfigReadyAction,\n} from \"./actions\";\n\ninterface AppState {\n  config: Config | null;\n  isLoading: boolean;\n  mainError: ErrorNotification;\n  movieList: MovieList | null;\n  apiConfig: ApiConfig | null;\n}\n\nconst initialState: AppState = {\n  config: null,\n  isLoading: false,\n  mainError: {\n    code: null,\n    errorMsg: \"\",\n  },\n  movieList: null,\n  apiConfig: null,\n};\n\nconst handleError = (state: AppState, action: ErrorAction): AppState => ({\n  ...state,\n  mainError: {\n    code: action.code,\n    errorMsg: action.errorMsg,\n  },\n});\n\nconst handleLoading = (state: AppState, action: LoadingAction): AppState => ({\n  ...state,\n  isLoading: action.loading,\n});\n\nconst handleFetchSuccess = (\n  state: AppState,\n  action: FetchSuccessAction\n): AppState => ({\n  ...state,\n  movieList: action.movieList,\n});\n\nconst handleApiConfigReady = (\n  state: AppState,\n  action: ApiConfigReadyAction\n): AppState => ({\n  ...state,\n  apiConfig: action.apiConfig,\n});\n\nconst handleConfigReady = (\n  state: AppState,\n  action: SystemConfigReadyAction\n): AppState => ({\n  ...state,\n  config: action.config,\n});\n\nconst actionHandlers = {\n  [Types.LOADING]: handleLoading,\n  [Types.FETCH_SUCCESS]: handleFetchSuccess,\n  [Types.ERROR]: handleError,\n  [Types.CONFIG_READY]: handleConfigReady,\n  [Types.API_CONFIG_READY]: handleApiConfigReady,\n};\n\nexport default createReducer<AppState, AppActions>(\n  initialState,\n  actionHandlers\n);\n","interface BaseAction {\n  type: string;\n}\n\nexport const createReducer = <State, Action extends BaseAction>(\n  initialState: State,\n  handlers: {\n    [handlerName: string]: Function;\n  }\n) => {\n  return (state = initialState, action: Action): State => {\n    const handler = handlers[action.type];\n    let updatedState = state;\n\n    if (handler) {\n      updatedState = handler(state, action);\n    }\n    return updatedState;\n  };\n};\n","import { combineReducers } from \"redux\";\nimport appReducer from \"redux/app/reducer\";\n\nconst rootReducer = combineReducers({ appReducer });\n\nexport type GlobalState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import { getConfig } from \"utils\";\nimport { MovieFetchRequest, ApiResponse } from \"models/api\";\n\nconst { bearer_token, api_root } = getConfig();\n\nconst catchError = (response: Response) => {\n  return response.json().catch(() => {\n    return {};\n  });\n};\n\nconst parseJSON = (response: Response): Promise<ApiResponse> => {\n  return new Promise((resolve) =>\n    catchError(response).then((json: any) =>\n      resolve({\n        status: response.status,\n        ok: response.ok,\n        data: json,\n      })\n    )\n  );\n};\n\nexport const apiCall = async (\n  requestUrl: string,\n  token: string\n): Promise<ApiResponse> => {\n  const headers = new Headers();\n  headers.append(\"content-type\", \"application/json\");\n  headers.append(\"Accept\", \"application/json\");\n  headers.append(\"Authorization\", `Bearer ${token}`);\n\n  const config: RequestInit = {\n    method: \"GET\",\n    headers: headers,\n    mode: \"cors\",\n  };\n\n  const api_request = new Request(requestUrl, config);\n\n  const response = await fetch(api_request);\n  const apiResponse = await parseJSON(response);\n  return apiResponse;\n};\n\nexport const fetchTmdbMovies = async (\n  movieFetchRequest: MovieFetchRequest\n): Promise<ApiResponse> => {\n  const endpoint = movieFetchRequest.endpoint.toLowerCase();\n  let requestUrl = `${api_root}${endpoint}/movie?`;\n  if (movieFetchRequest.sortBy) {\n    requestUrl = `${requestUrl}&sort_by=${movieFetchRequest.sortBy}`;\n  }\n  if (movieFetchRequest.query) {\n    requestUrl = `${requestUrl}&query=${movieFetchRequest.query}`;\n  }\n  const apiResponse = await apiCall(requestUrl, bearer_token);\n  return apiResponse;\n};\n\nexport const fetchTmdbConfig = async (): Promise<ApiResponse> => {\n  const requestUrl = `${api_root}/configuration`;\n  const apiResponse = await apiCall(requestUrl, bearer_token);\n  return apiResponse;\n};\n","import { SagaIterator } from \"redux-saga\";\nimport { call, put, select, throttle } from \"redux-saga/effects\";\nimport { Types, FetchStartAction, Actions } from \"./actions\";\nimport { fetchTmdbMovies, fetchTmdbConfig } from \"api/movies\";\nimport { selectApiConfig } from \"./selectors\";\n\nconst handleApiConfigFetch = function* (): SagaIterator {\n  const apiConfig = yield call(fetchTmdbConfig);\n  if (apiConfig.ok) {\n    yield put(Actions.setApiConfig(apiConfig.data));\n  }\n};\n\nconst handleMovieFetch = function* (action: FetchStartAction): SagaIterator {\n  const apiConfig = yield select(selectApiConfig);\n  yield put(Actions.setLoading(true));\n  if (!apiConfig) {\n    yield call(handleApiConfigFetch);\n  }\n  const apiResponse = yield call(fetchTmdbMovies, action.movieFetchRequest);\n  if (apiResponse.ok) {\n    yield put(Actions.fetchSuccess(apiResponse.data));\n    yield put(Actions.setLoading(false));\n  }\n};\n\nconst appSaga = function* (): SagaIterator {\n  yield throttle(250, Types.FETCH_START, handleMovieFetch);\n};\n\nexport { appSaga };\n","import { SagaIterator } from \"redux-saga\";\nimport { spawn, call, all } from \"redux-saga/effects\";\nimport { appSaga } from \"redux/app/sagas\";\n\nconst sagas = [appSaga]; // This approach allows running several independent sagas.\nexport default function* root(): SagaIterator {\n  yield all(\n    sagas.map((saga) =>\n      spawn(function* () {\n        while (true) {\n          try {\n            yield call(saga);\n            break;\n          } catch (e) {\n            console.error(e);\n          }\n        }\n      })\n    )\n  );\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension/developmentOnly\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport reducers from \"redux/reducers\";\nimport sagas from \"redux/sagas\";\n\nconst sagaMiddleware = createSagaMiddleware({ onError: (e) => console.log(e) });\nconst midddlewares = applyMiddleware(sagaMiddleware);\n\n// Create Store\nconst store = createStore(reducers, composeWithDevTools(midddlewares));\n\n// Run Sagas\nsagaMiddleware.run(sagas);\n\nexport default store;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"redux/store\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}