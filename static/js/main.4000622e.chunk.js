(this["webpackJsonpmovies-with-rock"]=this["webpackJsonpmovies-with-rock"]||[]).push([[0],{12:function(e,t,r){e.exports={"movie-details":"movieDetails_movie-details__2jfVw",show:"movieDetails_show__yABwa","movie-details__card":"movieDetails_movie-details__card__3EFdJ","movie-details__card__close":"movieDetails_movie-details__card__close__J51uQ","movie-details__card__description":"movieDetails_movie-details__card__description__2VEG6","movie-details__card__description__row":"movieDetails_movie-details__card__description__row__3jOIO","movie-details__card__description__row__label":"movieDetails_movie-details__card__description__row__label__2sgQr","movie-details__card__description__row__value":"movieDetails_movie-details__card__description__row__value__2uzxT","movie-details__card__description__row__value-title":"movieDetails_movie-details__card__description__row__value-title__3fczc","movie-details__card__description__row__value-no-pad":"movieDetails_movie-details__card__description__row__value-no-pad__2Vdvr"}},20:function(e,t,r){e.exports={"smooth-fade-enter":"transitions_smooth-fade-enter__2ALlF","smooth-fade-enter-active":"transitions_smooth-fade-enter-active__29pSy","smooth-fade-enter-done":"transitions_smooth-fade-enter-done__2j9Hc","smooth-fade-exit":"transitions_smooth-fade-exit__19Iel","smooth-fade-exit-active":"transitions_smooth-fade-exit-active__2Ui8g"}},24:function(e,t,r){e.exports={"rating-filter":"ratingFilter_rating-filter__2HnXD","rating-filter__star-full":"ratingFilter_rating-filter__star-full__6nvxN","rating-filter__star-outline":"ratingFilter_rating-filter__star-outline__1u9_B"}},25:function(e,t,r){e.exports={"movie-grid":"movieGrid_movie-grid__3BBbc","movie-grid__container":"movieGrid_movie-grid__container__3MsNc","movie-grid__card":"movieGrid_movie-grid__card__TdTx-","movie-grid__loader":"movieGrid_movie-grid__loader__35I7L",turn:"movieGrid_turn__GQ1fm"}},30:function(e,t,r){e.exports={header:"header_header__3fn4i",header__brand:"header_header__brand__JEX21",header__search:"header_header__search__3kbli"}},42:function(e,t,r){e.exports={error__main:"error_error__main__2hjhS"}},44:function(e,t,r){e.exports={spa:"spa_spa__3qUOz"}},57:function(e,t,r){},62:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(1),c=r.n(a),i=r(18),o=r.n(i),s=(r(57),r(40)),_=r(41),l=r(50),u=r(48),d=r(15),p="app/LOADING",v="app/FETCH_START",j="app/FETCH_SUCCESS",f="app/CONFIG_READY",b="app/API_CONFIG_READY",m="app/ERROR",O=function(e){return{type:p,loading:e}},h=function(e){return{type:v,movieFetchRequest:e}},x=function(e){return{type:j,movieList:e}},g=function(e){return{type:f,config:e}},w=function(e){return{type:b,apiConfig:e}},y=function(e,t){return{type:m,code:e,errorMsg:t}},N={api_root:"https://api.themoviedb.org/3/",bearer_token:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhZjU3OWI5YjQ1ODczZTFlMDUyMzVjN2I5YmMxMDI2NiIsInN1YiI6IjVmOTcxODc4NjRkZTM1MDAzOGYxY2FjOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VWvLdS8hwH5Rw-dznQuV0OgnBdhflVXdGumNT_CbK6I",paths:{ROOT:"/",NOT_FOUND:"/404"}},k=function(){return N},C=r(42),E=r.n(C),R=function(e){var t=e.error;return Object(n.jsxs)("div",{className:E.a["".concat("error","__main")],children:[Object(n.jsx)("h1",{children:t.code}),Object(n.jsx)("h2",{children:t.errorMsg})]})};R.defaultProps={error:{code:"400",errorMsg:"Oops"}};var D,I,F,S,M,T=r(8),A=r(45),L=r(32),B=r(29),G=["title","titleId"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z(e,t){var r=e.title,n=e.titleId,c=J(e,G);return a.createElement("svg",V({id:"Icons",style:{enableBackground:"new 0 0 32 32"},viewBox:"0 0 32 32",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,D||(D=a.createElement("path",{className:"st1",d:"M10,18V7c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v8"})),I||(I=a.createElement("path",{className:"st1",d:"M14,15v-1c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v1"})),F||(F=a.createElement("path",{className:"st1",d:"M18,15v-1c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v1"})),S||(S=a.createElement("path",{className:"st1",d:"M22,15V9c0-1.1,0.9-2,2-2h0c1.1,0,2,0.9,2,2v11"})),M||(M=a.createElement("path",{className:"st1",d:"M10,16v4.6c0,0,0,0,0,0l-1.5-1.8c-0.8-0.9-2.2-1-3.1-0.1l0,0c-0.8,0.8-0.8,2-0.1,2.9l3.2,3.6  c1.6,1.9,4,2.9,6.4,2.9h2.5H18h0.6c4.1,0,7.4-3.3,7.4-7.4V16"})))}var U=a.forwardRef(z),P=(r.p,r(30)),H=r.n(P),q="header",Q=function(e){var t=e.search;return Object(n.jsxs)("header",{className:H.a["".concat(q)],children:[Object(n.jsxs)("div",{className:H.a["".concat(q,"__brand")],children:[Object(n.jsx)(U,{}),Object(n.jsx)("span",{children:"M.W.R."})]}),Object(n.jsxs)("div",{className:H.a["".concat(q,"__search")],children:[Object(n.jsx)("input",{placeholder:"Search...",onChange:function(e){return function(e){t(encodeURI(e.target.value))}(e)}}),Object(n.jsx)(B.b,{})]})]})},W=function(e){return e.appReducer.movieList},Y=function(e){return e.appReducer.apiConfig},X=function(e){return e.appReducer.isLoading},Z=r(35),K=r(24),$=r.n(K),ee="rating-filter",te=function(e){var t=e.onFilterClick,r=e.filterStatus;return Object(n.jsx)("div",{className:$.a["".concat(ee)],children:[1,2,3,4,5].map((function(e){return Object(n.jsx)("button",{"aria-label":"rating filter",onClick:function(){return function(e){var n=!r.active||e!==r.stars;t({active:n,stars:e})}(e)},className:$.a["".concat(ee,"__star")],children:r.active&&r.stars>=e?Object(n.jsx)(Z.b,{className:$.a["".concat(ee,"__star-full")]}):Object(n.jsx)(Z.a,{className:$.a["".concat(ee,"__star-outline")]})},e)}))})},re=r.p+"static/media/missing-img.4ef10744.png",ne=r(25),ae=r.n(ne),ce=r(10),ie=r(68),oe=r(67),se=r(20),_e=r.n(se),le=function(e){var t=e.showContent,r=e.content,a=e.placeholder,i=e.time,o=void 0===i?600:i,s=e.type,_=void 0===s?"fade":s,l=c.a.useRef(null),u=c.a.useRef(null),d="smooth-".concat(_),p={enter:o,exit:o},v={timeout:p,classNames:{enter:_e.a["".concat(d,"-enter")],enterActive:_e.a["".concat(d,"-enter-active")],enterDone:_e.a["".concat(d,"-enter-done")],exit:_e.a["".concat(d,"-exit")],exitActive:_e.a["".concat(d,"-exit-active")],exitDone:_e.a["".concat(d,"-exit-done")]}};return Object(n.jsxs)(ie.a,{timeout:p,component:null,children:[t&&Object(n.jsx)(oe.a,Object(ce.a)(Object(ce.a)({nodeRef:l,in:t},v),{},{children:Object(n.jsx)("div",{ref:l,children:r()})})),!t&&Object(n.jsx)(oe.a,Object(ce.a)(Object(ce.a)({in:!t,nodeRef:u},v),{},{children:Object(n.jsx)("div",{ref:u,children:a()})}))]})};le.defaultProps={time:600,type:"fade"};var ue,de=le,pe="movie-grid",ve=function(e){var t=e.movies,r=e.onMovieClick,a=e.ratingFilterStatus,c=e.ratingFilterClick,i=Object(d.d)(Y),o=Object(d.d)(X);return Object(n.jsxs)("div",{className:ae.a["".concat(pe)],children:[Object(n.jsx)(te,{filterStatus:a,onFilterClick:c}),Object(n.jsx)("div",{className:ae.a["".concat(pe,"__container")],children:Object(n.jsx)(de,{showContent:!o,placeholder:function(){return Object(n.jsxs)("div",{className:ae.a["".concat(pe,"__loader")],children:[" ",Object(n.jsx)(B.a,{})]})},content:function(){return 0===(null===t||void 0===t?void 0:t.length)?Object(n.jsx)("h2",{children:"Sorry, no results..."}):null===t||void 0===t?void 0:t.map((function(e){var t=re;if(e.poster_path){var a=null===i||void 0===i?void 0:i.images.poster_sizes[3];t="".concat(null===i||void 0===i?void 0:i.images.secure_base_url).concat(a).concat(e.poster_path)}return Object(n.jsx)("button",{"aria-label":"open details",className:ae.a["".concat(pe,"__card")],onClick:function(){r(e)},children:Object(n.jsx)("img",{src:t,alt:e.title})},e.id)}))}})})]})},je=r(43),fe=r.p+"static/media/missing-back.fddbe8d0.png",be=r(12),me=r.n(be),Oe="movie-details",he=function(e){var t=e.movie,r=e.close,c=Object(d.d)(Y),i=Object(a.useRef)(null);Object(a.useLayoutEffect)((function(){null!==t&&null!==i.current&&i.current.focus()}),[t]);return function(){var e=[me.a["".concat(Oe)]],a=null;if(t){e.push(me.a.show);var o=fe;if(t.backdrop_path){var s=null===c||void 0===c?void 0:c.images.poster_sizes[5];o="".concat(null===c||void 0===c?void 0:c.images.secure_base_url).concat(s).concat(t.backdrop_path)}a=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:me.a["".concat(Oe,"__card__description")],children:Object(n.jsx)("div",{className:me.a["".concat(Oe,"__card__description__row")],children:Object(n.jsx)("span",{className:me.a["".concat(Oe,"__card__description__row__value-title")],children:null===t||void 0===t?void 0:t.title})})}),Object(n.jsx)("img",{src:o,alt:t.title}),Object(n.jsxs)("div",{className:me.a["".concat(Oe,"__card__description")],children:[Object(n.jsxs)("div",{className:me.a["".concat(Oe,"__card__description__row")],children:[Object(n.jsx)("span",{className:me.a["".concat(Oe,"__card__description__row__label")],children:"Rating:"}),Object(n.jsx)("span",{className:me.a["".concat(Oe,"__card__description__row__value")],children:null===t||void 0===t?void 0:t.vote_average})]}),Object(n.jsx)("div",{className:me.a["".concat(Oe,"__card__description__row")],children:Object(n.jsx)("span",{className:me.a["".concat(Oe,"__card__description__row__label")],children:"Overview:"})}),Object(n.jsx)("div",{className:me.a["".concat(Oe,"__card__description__row")],children:Object(n.jsx)("span",{className:me.a["".concat(Oe,"__card__description__row__value-no-pad")],children:null===t||void 0===t?void 0:t.overview})})]})]})}return Object(n.jsx)("div",{className:e.join(" "),children:Object(n.jsxs)("div",{className:me.a["".concat(Oe,"__card")],children:[Object(n.jsx)("button",{"aria-label":"close",onClick:function(){r()},ref:i,className:me.a["".concat(Oe,"__card__close")],children:Object(n.jsx)(je.a,{})}),a]})})}()};!function(e){e.DISCOVER="DISCOVER",e.SEARCH="SEARCH"}(ue||(ue={}));var xe=r(44),ge=r.n(xe),we=function(){var e=Object(a.useState)({active:!1,stars:5}),t=Object(L.a)(e,2),r=t[0],c=t[1],i=Object(a.useState)(null),o=Object(L.a)(i,2),s=o[0],_=o[1],l=Object(a.useState)(""),u=Object(L.a)(l,2),p=u[0],v=u[1],j=Object(d.c)(),f=Object(d.d)(W);Object(a.useEffect)((function(){var e={endpoint:ue.DISCOVER,sortBy:"popularity.desc"};p.length>=1&&(e={endpoint:ue.SEARCH,query:p,sortBy:"popularity.desc"}),j(h(e))}),[j,p]);var b=Object(a.useCallback)((function(){return r.active?null===f||void 0===f?void 0:f.results.filter((function(e){return e.vote_average<=2*r.stars&&e.vote_average>=2*(r.stars-1)})):null===f||void 0===f?void 0:f.results}),[f,r]);return Object(n.jsxs)("div",{className:ge.a["".concat("spa")],children:[Object(n.jsx)(Q,{search:v}),Object(n.jsx)(ve,{movies:b(),onMovieClick:_,ratingFilterStatus:r,ratingFilterClick:c}),Object(n.jsx)(he,{movie:s,close:function(){return _(null)}})]})},ye={ROOT:"/",NOT_FOUND:"/404"},Ne=k().paths,ke=Object(T.g)((function(){var e=null!==Ne&&void 0!==Ne?Ne:ye;return Object(n.jsxs)(T.d,{children:[Object(n.jsx)(T.b,{exact:!0,path:"/movies-with-rock"+e.ROOT,render:function(){return Object(n.jsx)(we,{})}}),Object(n.jsx)(T.b,{path:e.NOT_FOUND,component:function(){return Object(n.jsx)(R,{error:{code:"404",errorMsg:"Page not found."}})}}),Object(n.jsx)(T.a,{to:e.NOT_FOUND})]})})),Ce=function(){return Object(n.jsx)(A.a,{children:new ke({})})},Ee=(r(62),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={boundaryError:!1},n}return Object(_.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.initApp)(k())}},{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e,t=this.props.mainError,r=this.state.boundaryError;if(t.code||r){var a=r?{code:"400",errorMsg:"Ups..."}:t;e=Object(n.jsx)(R,{error:a})}else e=Ce();return Object(n.jsx)("div",{className:"app",children:e})}}],[{key:"getDerivedStateFromError",value:function(){return{boundaryError:!0}}}]),r}(a.Component));Ee.defaultProps={appReducer:{}};var Re,De=Object(d.b)((function(e){var t=e.appReducer,r=t.mainError;return{config:t.config,mainError:r}}),(function(e){return{initApp:function(t){e(t?g(t):y("400","Missing Config"))}}}))(Ee),Ie=r(21),Fe=r(46),Se=r(49),Me=r(19),Te=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,a=t[n.type],c=r;return a&&(c=a(r,n)),c}}({config:null,isLoading:!1,mainError:{code:null,errorMsg:""},movieList:null,apiConfig:null},(Re={},Object(Me.a)(Re,p,(function(e,t){return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:t.loading})})),Object(Me.a)(Re,j,(function(e,t){return Object(ce.a)(Object(ce.a)({},e),{},{movieList:t.movieList})})),Object(Me.a)(Re,m,(function(e,t){return Object(ce.a)(Object(ce.a)({},e),{},{mainError:{code:t.code,errorMsg:t.errorMsg}})})),Object(Me.a)(Re,f,(function(e,t){return Object(ce.a)(Object(ce.a)({},e),{},{config:t.config})})),Object(Me.a)(Re,b,(function(e,t){return Object(ce.a)(Object(ce.a)({},e),{},{apiConfig:t.apiConfig})})),Re)),Ae=Object(Ie.combineReducers)({appReducer:Te}),Le=r(11),Be=r.n(Le),Ge=r(13),Ve=r(31),Je=k(),ze=Je.bearer_token,Ue=Je.api_root,Pe=function(e){return new Promise((function(t){return function(e){return e.json().catch((function(){return{}}))}(e).then((function(r){return t({status:e.status,ok:e.ok,data:r})}))}))},He=function(){var e=Object(Ve.a)(Be.a.mark((function e(t,r){var n,a,c,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("content-type","application/json"),n.append("Accept","application/json"),n.append("Authorization","Bearer ".concat(r)),a=new Request(t,{method:"GET",headers:n,mode:"cors"}),e.next=8,fetch(a);case 8:return c=e.sent,e.next=11,Pe(c);case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),qe=function(){var e=Object(Ve.a)(Be.a.mark((function e(t){var r,n,a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.endpoint.toLowerCase(),n="".concat(Ue).concat(r,"/movie?"),t.sortBy&&(n="".concat(n,"&sort_by=").concat(t.sortBy)),t.query&&(n="".concat(n,"&query=").concat(t.query)),e.next=6,He(n,ze);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(Ve.a)(Be.a.mark((function e(){var t,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Ue,"/configuration"),e.next=3,He(t,ze);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=Be.a.mark((function e(){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.b)(Qe);case 2:if(!(t=e.sent).ok){e.next=6;break}return e.next=6,Object(Ge.c)(w(t.data));case 6:case"end":return e.stop()}}),e)})),Ye=Be.a.mark((function e(t){var r,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.d)(Y);case 2:return r=e.sent,e.next=5,Object(Ge.c)(O(!0));case 5:if(r){e.next=8;break}return e.next=8,Object(Ge.b)(We);case 8:return e.next=10,Object(Ge.b)(qe,t.movieFetchRequest);case 10:if(!(n=e.sent).ok){e.next=16;break}return e.next=14,Object(Ge.c)(x(n.data));case 14:return e.next=16,Object(Ge.c)(O(!1));case 16:case"end":return e.stop()}}),e)})),Xe=Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.f)(250,v,Ye);case 2:case"end":return e.stop()}}),e)})),Ze=Be.a.mark($e),Ke=[Xe];function $e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)(Ke.map((function(e){return Object(Ge.e)(Be.a.mark((function t(){return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,Object(Ge.b)(e);case 4:return t.abrupt("break",12);case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:t.next=0;break;case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))})));case 2:case"end":return e.stop()}}),Ze)}var et=Object(Se.a)({onError:function(e){return console.log(e)}}),tt=Object(Ie.applyMiddleware)(et),rt=Object(Ie.createStore)(Ae,Object(Fe.composeWithDevTools)(tt));et.run($e);var nt=rt,at=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,69)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};o.a.render(Object(n.jsx)(d.a,{store:nt,children:Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(De,{})})}),document.getElementById("root")),at()}},[[65,1,2]]]);
//# sourceMappingURL=main.4000622e.chunk.js.map